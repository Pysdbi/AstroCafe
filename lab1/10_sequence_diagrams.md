# Диаграммы последовательности

## Регистрация участника

```mermaid
sequenceDiagram
    actor U as Участник
    participant S as Система
    participant DB as База данных
    participant E as Email сервис

    U->>S: Заполняет форму регистрации
    S->>DB: Проверка существующего email
    DB-->>S: Результат проверки
    S->>DB: Создание учетной записи
    DB-->>S: Подтверждение создания
    S->>E: Отправка подтверждения
    E-->>U: Email с подтверждением
    S-->>U: Уведомление об успешной регистрации
```

## Пополнение карты

```mermaid
sequenceDiagram
    actor U as Участник
    participant S as Система
    participant P as Платежная система
    participant DB as База данных

    U->>S: Запрос на пополнение
    S->>P: Запрос на оплату
    P-->>U: Форма оплаты
    U->>P: Подтверждение оплаты
    P-->>S: Подтверждение платежа
    S->>DB: Обновление баланса
    DB-->>S: Подтверждение обновления
    S-->>U: Уведомление об успешном пополнении
```

## Получение вознаграждения

```mermaid
sequenceDiagram
    actor U as Участник
    participant S as Система
    participant DB as База данных
    participant A as Система учета

    U->>S: Запрос на получение вознаграждения
    S->>DB: Проверка баланса
    DB-->>S: Текущий баланс
    S->>DB: Списание фишек
    DB-->>S: Подтверждение списания
    S->>A: Запрос на выдачу вознаграждения
    A-->>S: Подтверждение выдачи
    S-->>U: Уведомление о получении вознаграждения
```

## Описание диаграмм

### Регистрация участника
Диаграмма показывает процесс регистрации нового участника программы лояльности, включая проверку данных, создание учетной записи и отправку подтверждения.

### Пополнение карты
Диаграмма иллюстрирует процесс пополнения баланса карты лояльности, включая взаимодействие с платежной системой и обновление данных.

### Получение вознаграждения
Диаграмма демонстрирует процесс получения вознаграждения участником программы, включая проверку баланса, списание фишек и выдачу вознаграждения. 